main:
  steps:
    - youtubeApiCalls:
        call: http.get
        args:
          # TODO: Make location dynamic:
          url: ${"https://cloudfunctions.googleapis.com/v2/projects/" + sys.get_env("GOOGLE_CLOUD_PROJECT_ID") + "/locations/europe-west1/functions/dgpulse-youtube-aspect-ratio-fetcher"}
          auth:
            type: OAuth2
    - returnOutput:
        return: 'In progress: YouTube aspect ratios checks and BigQuery update queries can take up to 10mins. Check logs for more.'